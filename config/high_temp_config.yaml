# é«˜æ¸©æ£€æµ‹ä¸“ç”¨é…ç½®
# åªæœ‰å½“æ¸©åº¦é«˜äºè®¾å®šå€¼æ—¶ï¼Œæ‰å¤„ç†æ£€æµ‹ç»“æœ

# æ¨¡å‹é…ç½®
model:
  path: "pt_dir/person/best.pt"
  
  models:
    lightweight: "yolov8n.pt"
    high_accuracy: "pt_dir/person/best.pt"

# æ£€æµ‹å‚æ•°
detection:
  confidence_threshold: 0.5
  iou_threshold: 0.45
  image_size: 640
  fps_limit: 1
  max_streams: 10
  auto_resize: true
  max_resolution: 640
  # ç±»åˆ«è¿‡æ»¤ï¼šåªæ£€æµ‹äººå‘˜
  target_classes: ["person"]
  # è‡ªå®šä¹‰ç±»åˆ«åç§°æ˜ å°„ï¼ˆä¸­æ–‡åŒ–ï¼‰
  # custom_class_names:
  #   "person": "äººå‘˜"
  
  # ğŸ”¥ è‡ªå®šä¹‰å¤„ç†ç±»å‹ï¼šé«˜æ¸©æ£€æµ‹
  custom_type: "high_temperature_alert"
  # ğŸŒ¡ï¸ é«˜æ¸©æ£€æµ‹é…ç½®
  custom_type_config:
    # æ˜¯å¦å¯ç”¨é«˜æ¸©æ£€æµ‹
    enabled: true
    # æ¸©åº¦é˜ˆå€¼ï¼ˆæ‘„æ°åº¦ï¼‰
    temperature_threshold: 36
    # æ¸©åº¦æ•°æ®æºï¼šapi(å¤©æ°”API) / fixed(å›ºå®šå€¼`)
    temperature_source: "api"
    # å¤©æ°”APIé…ç½®ï¼ˆå½“temperature_sourceä¸ºapiæ—¶ä½¿ç”¨ï¼‰
    api_key: "463f3a37789523d2bbbe619be3d03981"
    city: "310000" # ä¸Šæµ·


# æŠ¥è­¦è§„åˆ™é…ç½®
alarm:
  # è§¦å‘æŠ¥è­¦çš„æœ€å°ç½®ä¿¡åº¦
  min_confidence: 0.5
  # è¿ç»­æ£€æµ‹åˆ°ç›®æ ‡çš„å¸§æ•°æ‰è§¦å‘æŠ¥è­¦
  consecutive_frames: 3
  # æŠ¥è­¦å†·å´æ—¶é—´ï¼ˆç§’ï¼‰- é¿å…é¢‘ç¹æŠ¥è­¦
  cooldown_seconds: 30
  # æŠ¥è­¦çº§åˆ«
  levels:
    low: 0.3
    medium: 0.5
    high: 0.7
  # æ”¯æŒçš„æŠ¥è­¦æ–¹å¼
  notification_methods:
    - "callback"  # HTTPå›è°ƒ
    - "log"       # æ—¥å¿—è®°å½•
    - "email"     # é‚®ä»¶é€šçŸ¥ï¼ˆå¯é€‰ï¼‰

# è§†é¢‘æµé…ç½®
video_streams:
  # ç¼“å†²åŒºå¤§å°ï¼ˆå¸§æ•°ï¼‰
  buffer_size: 5
  # è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
  connection_timeout: 10
  # é‡è¿é—´éš”ï¼ˆç§’ï¼‰
  reconnect_interval: 5
  # æœ€å¤§é‡è¿æ¬¡æ•°
  max_reconnect_attempts: 3
  # æ”¯æŒçš„è§†é¢‘æ ¼å¼
  supported_formats:
    - "rtsp"
    # - "rtmp"
    # - "http"
    # - "file"
    # - "camera"

# APIæœåŠ¡é…ç½®
api:
  # æœåŠ¡ç«¯å£
  port: 8080
  # æœåŠ¡ä¸»æœº
  host: "0.0.0.0"
  # APIç‰ˆæœ¬
  version: "v1"
  # æ˜¯å¦å¯ç”¨è°ƒè¯•æ¨¡å¼
  debug: false
  # å…è®¸çš„è·¨åŸŸæ¥æº
  cors_origins:
    - "*"

# æ—¥å¿—é…ç½®
logging:
  # æ—¥å¿—çº§åˆ«
  level: "INFO"
  # æ—¥å¿—æ–‡ä»¶è·¯å¾„
  file_path: "logs/detection.log"
  # æ—¥å¿—æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆMBï¼‰
  max_file_size: 100
  # ä¿ç•™çš„æ—¥å¿—æ–‡ä»¶æ•°é‡
  backup_count: 5
  # æ—¥å¿—æ ¼å¼
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# æ€§èƒ½é…ç½®
performance:
  # æ˜¯å¦ä½¿ç”¨GPU
  use_gpu: false
  # GPUè®¾å¤‡ID
  gpu_device: 0
  # å·¥ä½œçº¿ç¨‹æ•°
  worker_threads: 4
  # å†…å­˜ä½¿ç”¨é™åˆ¶ï¼ˆMBï¼‰
  memory_limit: 2048

# å­˜å‚¨é…ç½®
storage:
  # æ˜¯å¦ä¿å­˜æ£€æµ‹ç»“æœä¿¡æ¯æ–‡ä»¶
  save_results: true
  # æ˜¯å¦ä¿å­˜æ£€æµ‹å›¾åƒ
  save_images: true
  # ç»“æœä¿å­˜è·¯å¾„
  results_path: "results/"
  # å›¾åƒä¿å­˜è·¯å¾„
  images_path: "results/images/"
  # æ•°æ®ä¿ç•™å¤©æ•°
  retention_days: 30
  # æ˜¯å¦åªä¿å­˜æœ‰æ£€æµ‹ç»“æœçš„å¸§
  save_only_detections: true
  # æœ€å¤§ä¿å­˜æ–‡ä»¶æ•°é‡ï¼ˆé˜²æ­¢ç£ç›˜æ»¡ï¼‰
  max_saved_files: 10000
  # å›¾åƒè´¨é‡è®¾ç½®
  image_format: "png"  # å›¾åƒæ ¼å¼: "png"(æ— æŸ) æˆ– "jpg"(æœ‰æŸ)
  jpeg_quality: 100    # JPEGè´¨é‡ (1-100ï¼Œä»…å½“formatä¸ºjpgæ—¶æœ‰æ•ˆ)
  png_compression: 1   # PNGå‹ç¼©çº§åˆ« (0-9ï¼Œ0æœ€å¿«ï¼Œ9æœ€å°)
  # è§†é¢‘æ•è·è®¾ç½®
  capture_width: 640   # æœŸæœ›çš„æ•è·å®½åº¦ (é™ä½ä»¥é¿å…H264é—®é¢˜)
  capture_height: 480  # æœŸæœ›çš„æ•è·é«˜åº¦
  capture_fps: 15      # æœŸæœ›çš„æ•è·å¸§ç‡ (é™ä½ä»¥å‡å°‘ç¼–ç è´Ÿæ‹…)
  # ä¼˜å…ˆç¼–ç æ ¼å¼ ("YUYV", "MJPEG", "AUTO")
  preferred_codec: "YUYV"